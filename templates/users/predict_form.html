{% extends 'users/user_base.html' %}
{% block title %}Metro Ticket Predictor{% endblock %}
{% block content %}
<div class="bg-white bg-opacity-10 backdrop-blur-xl p-10 rounded-3xl shadow-2xl border border-white/20 max-w-lg w-full mx-auto my-8">
    <h2 class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-blue-600 mb-8 text-center animate-gradient">🚇 Metro Ticket Forecast</h2>
    
    <form method="post" class="space-y-6">
        {% csrf_token %}
        <div class="space-y-4">
            {{ form.as_p }}
        </div>
        <button type="submit" class="w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-3 px-4 rounded-lg font-bold text-lg hover:from-cyan-600 hover:to-blue-600 transition-all duration-300 shadow-md flex items-center justify-center gap-2">
            <span>🔮</span> Predict
        </button>
    </form>

    {% if prediction %}
        <div class="mt-8 bg-gradient-to-r from-purple-500/30 to-pink-500/30 p-6 rounded-xl shadow-lg transform transition-all hover:scale-105">
           <b> <h3 class="text-2xl font-bold text-white mb-4">📈 Prediction Result</h3>
            <p class="text-lg text-gray-200"><strong>Station:</strong> {{ prediction.station }}</p>
            <p class="text-lg text-gray-200"><strong>Datetime:</strong> {{ prediction.datetime }}</p>
            <p class="text-lg text-gray-200"><strong>Result:</strong> {{ prediction.xgb }} tickets</p></b>
        </div>
    {% endif %}
    
    <!-- Floating emojis for flair -->
    <span class="absolute top-2 left-2 text-3xl animate-float">🚆</span>
    <span class="absolute bottom-2 right-2 text-3xl animate-float delay-300">🎟️</span>
</div>
<style>
    @keyframes gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    .animate-gradient {
        background-size: 200% 200%;
        animation: gradient 5s ease infinite;
    }
    @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.7; }
        50% { transform: translateY(-15px) rotate(10deg); opacity: 1; }
    }
    .animate-float { animation: float 3s infinite ease-in-out; }
    .delay-300 { animation-delay: 0.3s; }
</style>
{% endblock %}